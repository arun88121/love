<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Ammu!</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <!-- FontAwesome for Icons (Replaces Lucide) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body { font-family: 'Nunito', sans-serif; }
        .font-handwriting { font-family: 'Dancing Script', cursive; }
        
        /* Animations */
        @keyframes floatUp {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100vh) rotate(20deg); opacity: 0; }
        }
        @keyframes sway {
            0% { transform: rotate(-5deg); }
            100% { transform: rotate(5deg); }
        }
        .animate-spin-slow { animation: spin 4s linear infinite; }
        .animate-fade-in-up { animation: fadeInUp 1s ease-out forwards; }
        .animate-drop-down { animation: dropDown 0.8s ease-out forwards; }

        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes dropDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-pink-50 overflow-x-hidden selection:bg-pink-200">

    <!-- Background Audio Player -->
    <audio id="bg-music" loop preload="auto">
        <source src="Thangapoove.mp3" type="audio/mpeg">
    </audio>

    <!-- Floating Balloons Container -->
    <div id="balloon-container" class="fixed inset-0 pointer-events-none z-50 overflow-hidden"></div>

    <!-- Bunting Decorations (Hidden by default) -->
    <div id="decorations" class="fixed top-0 left-0 w-full z-40 pointer-events-none hidden animate-drop-down">
        <div class="flex w-full justify-between items-start overflow-hidden" style="margin-top: -5px;">
            <!-- JS will generate flags here -->
        </div>
    </div>

    <!-- Screen 1: Intro 1 -->
    <div id="screen-intro1" class="min-h-screen flex flex-col items-center justify-center text-center p-6 cursor-pointer" onclick="nextScreen('intro2')">
        <div class="mb-8 transform transition duration-300 hover:scale-110">
            <i class="fas fa-star text-6xl text-yellow-400 animate-spin-slow"></i>
        </div>
        <h1 class="text-4xl md:text-6xl font-bold text-gray-800 mb-6 font-handwriting animate-fade-in-up leading-tight">
            It's Your Special Day Ammu!üéÄ
        </h1>
        <p class="text-gray-400 mt-12 animate-bounce text-sm uppercase tracking-widest">(Tap screen)</p>
    </div>

    <!-- Screen 2: Intro 2 -->
    <div id="screen-intro2" class="min-h-screen flex flex-col items-center justify-center text-center p-6 cursor-pointer hidden" onclick="nextScreen('question')">
        <div class="mb-8">
            <i class="fas fa-heart text-6xl text-pink-500 animate-pulse"></i>
        </div>
        <h1 class="text-2xl md:text-5xl font-bold text-gray-800 max-w-2xl leading-relaxed animate-fade-in-up">
            I wanted to make something special for you... because you are very special to me!
        </h1>
        <p class="text-gray-400 mt-12 text-sm uppercase tracking-widest">(Tap to continue)</p>
    </div>

    <!-- Screen 3: Question -->
    <div id="screen-question" class="min-h-screen flex flex-col items-center justify-center p-4 hidden">
        <div class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl max-w-md w-full text-center mx-4">
            <div class="flex justify-center mb-6">
                <i class="fas fa-wand-magic-sparkles text-5xl text-purple-400 animate-bounce"></i>
            </div>
            <h2 class="text-3xl font-bold text-gray-800 mb-10 leading-snug">Do you wanna see what I made??</h2>
            <div class="flex flex-col gap-4">
                <button onclick="goToMain()" class="bg-pink-500 hover:bg-pink-600 text-white text-xl font-bold py-4 px-10 rounded-full shadow-lg transform transition active:scale-95 w-full">
                    YES! üòç
                </button>
                <button class="bg-gray-100 text-gray-400 font-bold py-4 px-10 rounded-full cursor-not-allowed w-full opacity-50">
                    No üò¢
                </button>
            </div>
        </div>
    </div>

    <!-- Screen 4: Main Dashboard -->
    <div id="screen-main" class="min-h-screen bg-gray-50 pb-12 hidden relative">
        
        <!-- Sticky Header -->
        <div class="bg-white/90 backdrop-blur-sm p-3 shadow-sm sticky top-0 z-30 border-b border-pink-100">
            <div class="max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-3">
                <h1 class="text-lg font-bold text-gray-700 w-full md:w-auto text-center">Thangamaeeeee ü©∂</h1>
                
                <div class="flex justify-center gap-2 w-full md:w-auto">
                    <button onclick="toggleMusic()" id="music-btn" class="flex items-center gap-1 px-4 py-2 bg-gray-100 text-gray-600 rounded-full text-xs font-bold transition flex-1 justify-center border border-gray-200">
                        <i class="fas fa-volume-mute"></i> <span>Music</span>
                    </button>
                    <button onclick="toggleDecorations()" id="decorate-btn" class="flex items-center gap-1 px-4 py-2 bg-white text-gray-600 rounded-full text-xs font-bold transition flex-1 justify-center border border-gray-200 shadow-sm">
                        <i class="fas fa-wand-sparkles text-gray-400"></i> <span>Decorate</span>
                    </button>
                    <button onclick="flyBalloons()" class="flex items-center gap-1 px-4 py-2 bg-pink-500 text-white rounded-full text-xs font-bold shadow-md active:scale-95 flex-1 justify-center transition">
                        <i class="fas fa-gift"></i> <span>Balloons</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Scrollable Content -->
        <div class="max-w-2xl mx-auto p-4 space-y-6 md:space-y-8 mt-2">
            
            <!-- Cake Card -->
            <div class="bg-white rounded-3xl shadow-xl p-6 text-center transform transition hover:scale-[1.02] border border-pink-50">
                <h2 class="text-2xl font-bold text-pink-500 mb-4 font-handwriting">Cut the Cake! üéÇ</h2>
                <div class="relative inline-block group cursor-pointer" onclick="cutCake(this)">
                    <img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?q=80&w=1000&auto=format&fit=crop" 
                         alt="Cake" 
                         id="cake-img"
                         class="w-56 h-56 md:w-72 md:h-72 object-cover rounded-2xl shadow-lg transition duration-700">
                    
                    <div id="cake-overlay" class="absolute inset-0 flex items-center justify-center pointer-events-none">
                        <div class="bg-black/40 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-bold animate-pulse">
                            Tap to Cut üî™
                        </div>
                    </div>
                    <div id="cake-msg" class="absolute inset-0 flex items-center justify-center pointer-events-none hidden">
                         <span class="text-3xl font-black text-white drop-shadow-md animate-bounce tracking-wider">YUMMY! üòã</span>
                    </div>
                </div>
            </div>

            <!-- Message Card -->
            <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-pink-50">
                <div class="bg-gradient-to-r from-pink-400 to-purple-400 p-4 flex items-center gap-2 text-white">
                    <i class="fas fa-envelope-open-text text-xl"></i>
                    <h2 class="font-bold text-lg">My Letter to You</h2>
                </div>
                <div class="p-6 md:p-8 bg-pink-50/50">
                    <h3 class="font-bold text-xl text-gray-800 mb-4 font-handwriting">Dear Kowshii,</h3>
                    <p class="text-gray-700 leading-7 md:leading-8 whitespace-pre-line text-sm md:text-base font-medium">
Ammu unna enaku romba rombaa pudikum dii adhu uncountable ne sirucha rombaaa cute ahh irrupa dii  , nee evlo azhagu theriyuma nee ennoda azhagu pulla dii cutiee ipo irruka love oda kadaisi varaikum irrupom evlo problems vandhalum nama face panni seruvom I m always yours and u r strictly mine 
You is my Thangapoovae ü©∂
Luvv uu ammuuu ü©∂
                        
Happiest bday ammuu !!!
                    </p>
                    <div class="mt-8 flex justify-end">
                        <i class="fas fa-heart text-pink-500 text-2xl animate-pulse"></i>
                    </div>
                </div>
            </div>

            <!-- Photo Card -->
            <div class="bg-white p-3 rounded-2xl shadow-lg rotate-1 hover:rotate-0 transition duration-300 border-b-4 border-r-4 border-gray-200">
                <img src="1st.jpg" 
                     alt="Us" 
                     class="w-full h-64 md:h-80 object-cover rounded-xl">
                <p class="text-center mt-3 font-handwriting text-2xl text-gray-600">Us Forever ü©∂</p>
            </div>

            <div class="text-center text-gray-400 text-xs py-8">
                Made with ‚ù§Ô∏è for u Thangoo ü©∂
            </div>
        </div>
    </div>

    <script>
        // --- Logic to make it interactive ---
        
        // Navigation
        function nextScreen(screenId) {
            // Hide all screens
            ['screen-intro1', 'screen-intro2', 'screen-question', 'screen-main'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.classList.add('hidden');
            });
            
            // Show target
            const target = document.getElementById('screen-' + screenId);
            if (target) {
                target.classList.remove('hidden');
            } else {
                console.error("Target screen not found:", 'screen-' + screenId);
            }
        }

        function goToMain() {
            // FIXED: Changed argument from 'screen-main' to 'main'
            // The nextScreen function automatically adds 'screen-' prefix
            nextScreen('main'); 
            toggleMusic(true); // Auto play attempt
        }

        // Music Logic
        const audio = document.getElementById('bg-music');
        let isPlaying = false;

        function toggleMusic(forcePlay = false) {
            const btn = document.getElementById('music-btn');
            const icon = btn.querySelector('i');
            const text = btn.querySelector('span');

            if (forcePlay || !isPlaying) {
                audio.play().then(() => {
                    isPlaying = true;
                    btn.classList.remove('bg-gray-100', 'text-gray-600');
                    btn.classList.add('bg-green-100', 'text-green-700', 'border-green-200');
                    icon.className = 'fas fa-volume-up';
                    text.innerText = 'Playing';
                }).catch(e => console.log("Audio play blocked by browser:", e));
            } else {
                audio.pause();
                isPlaying = false;
                btn.classList.add('bg-gray-100', 'text-gray-600');
                btn.classList.remove('bg-green-100', 'text-green-700', 'border-green-200');
                icon.className = 'fas fa-volume-mute';
                text.innerText = 'Music';
            }
        }

        // Decorations Logic
        let decorationsVisible = false;
        function toggleDecorations() {
            const dec = document.getElementById('decorations');
            const container = dec.firstElementChild;
            const btn = document.getElementById('decorate-btn');
            const icon = btn.querySelector('i');

            if (!decorationsVisible) {
                // Generate bunting flags if empty
                if (container.children.length === 0) {
                    const colors = ['#FF6B6B', '#4ECDC4', '#FFE66D', '#FF9FF3', '#54A0FF'];
                    for (let i = 0; i < 40; i++) {
                        const flag = document.createElement('div');
                        flag.className = 'w-8 h-10 md:w-12 md:h-16 shadow-sm origin-top transform';
                        flag.style.backgroundColor = colors[i % 5];
                        flag.style.clipPath = 'polygon(0% 0%, 100% 0%, 50% 100%)';
                        flag.style.marginLeft = '-5px';
                        flag.style.animation = `sway 3s ease-in-out infinite alternate ${i * 0.1}s`;
                        container.appendChild(flag);
                    }
                }
                dec.classList.remove('hidden');
                btn.classList.add('bg-purple-100', 'text-purple-700', 'border-purple-200');
                icon.className = 'fas fa-wand-magic-sparkles text-purple-500';
            } else {
                dec.classList.add('hidden');
                btn.classList.remove('bg-purple-100', 'text-purple-700', 'border-purple-200');
                icon.className = 'fas fa-wand-sparkles text-gray-400';
            }
            decorationsVisible = !decorationsVisible;
        }

        // Balloon Logic
        function flyBalloons() {
            const container = document.getElementById('balloon-container');
            const colors = ['#ff6b6b', '#4ecdc4', '#ffe66d', '#ff9ff3'];
            const count = window.innerWidth < 600 ? 8 : 15;

            for (let i = 0; i < count; i++) {
                const b = document.createElement('div');
                b.className = 'absolute bottom-[-150px] w-10 h-14 md:w-16 md:h-20 rounded-full opacity-90';
                b.style.left = Math.random() * 90 + '%';
                b.style.backgroundColor = colors[Math.floor(Math.random() * 4)];
                b.style.animation = `floatUp ${4 + Math.random() * 4}s linear forwards`;
                b.style.boxShadow = 'inset -5px -5px 10px rgba(0,0,0,0.1)';
                
                // String
                const s = document.createElement('div');
                s.className = 'absolute bottom-[-20px] left-1/2 w-[1px] h-[20px] bg-gray-400 transform -translate-x-1/2';
                b.appendChild(s);

                container.appendChild(b);

                // Cleanup
                setTimeout(() => b.remove(), 10000);
            }
        }

        // Cake Logic
        let isCakeCut = false;
        function cutCake(el) {
            if (isCakeCut) return;
            
            const img = document.getElementById('cake-img');
            const overlay = document.getElementById('cake-overlay');
            const msg = document.getElementById('cake-msg');

            img.classList.add('grayscale', 'opacity-60', 'blur-[2px]');
            overlay.classList.add('hidden');
            msg.classList.remove('hidden');
            
            isCakeCut = true;
            flyBalloons(); // Celebration confetti
        }
    </script>
</body>
</html>
